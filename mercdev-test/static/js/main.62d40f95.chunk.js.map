{"version":3,"sources":["components/app/img/w-mercury-development.svg","reducers/auth.js","reducers/index.js","store.js","services/mercdev-service.js","actions/index.js","components/auth-form/auth-form.js","components/auth-form/index.js","components/user-info/index.js","components/user-info/user-info.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","__webpack_require__","p","userAuth","state","action","undefined","userData","error","type","payload","reducer","user","store","createStore","applyMiddleware","thunkMiddleware","mercdevService","_apiBase","userLogin","email","password","url","concat","_this","headers","Headers","Content-Type","body","fetch","method","JSON","stringify","authError","err","authLogout","Error","_ref","text","react_default","a","createElement","className","AuthForm","connect","_ref2","dispatch","bindActionCreators","fetchLogin","then","data","ok","status","json","catch","props","onSubmit","e","preventDefault","login","target","value","pass","placeholder","auth_form_Error","UserInfo","_props$userData","name","photoUrl","src","alt","onClick","App","logo","components_user_info","components_auth_form","ReactDOM","render","es","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.62d40f95.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/w-mercury-development.15aa0581.svg\";","const userAuth = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      userData: null,\r\n      error: null\r\n    };\r\n  }\r\n\r\n  switch (action.type) {\r\n    case \"FETCH_AUTH_REQUEST\":\r\n      return {\r\n        userData: null,\r\n        error: null\r\n      };\r\n\r\n    case \"FETCH_AUTH_SUCCESS\":\r\n      return {\r\n        userData: action.payload,\r\n        error: null\r\n      };\r\n\r\n    case \"FETCH_AUTH_FAILURE\":\r\n      return {\r\n        userData: null,\r\n        error: action.payload\r\n      };\r\n\r\n    case \"LOGOUT\":\r\n      return {\r\n        userData: null,\r\n        error: null\r\n      };\r\n\r\n    default:\r\n      return state.userAuth;\r\n  }\r\n};\r\n\r\nexport default userAuth;\r\n","import userAuth from \"./auth\";\r\n\r\nconst reducer = (state, action) => {\r\n  return {\r\n    user: userAuth(state, action)\r\n  };\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","class MercdevService {\r\n  _apiBase = \"https://us-central1-mercdev-academy.cloudfunctions.net\";\r\n\r\n  userLogin = (email, password) => {\r\n    const url = `${this._apiBase}/login`;\r\n\r\n    const headers = new Headers({\r\n      \"Content-Type\": \"application/json\"\r\n    });\r\n\r\n    const body = {\r\n      email,\r\n      password\r\n    };\r\n\r\n    return fetch(url, {\r\n      method: \"POST\",\r\n      headers: headers,\r\n      body: JSON.stringify(body)\r\n    });\r\n  };\r\n}\r\n\r\nconst mercdevService = new MercdevService();\r\n\r\nexport default mercdevService;\r\n","import { mercdevService } from \"../services\";\r\n\r\nconst authRequest = () => {\r\n  return {\r\n    type: \"FETCH_AUTH_REQUEST\"\r\n  };\r\n};\r\n\r\nconst authLoaded = userData => {\r\n  return {\r\n    type: \"FETCH_AUTH_SUCCESS\",\r\n    payload: userData\r\n  };\r\n};\r\n\r\nconst authError = err => {\r\n  return {\r\n    type: \"FETCH_AUTH_FAILURE\",\r\n    payload: err\r\n  };\r\n};\r\n\r\nconst authLogout = () => {\r\n  return {\r\n    type: \"LOGOUT\"\r\n  };\r\n};\r\n\r\nconst fetchLogin = () => (email, password) => dispatch => {\r\n  dispatch(authRequest());\r\n  mercdevService\r\n    .userLogin(email, password)\r\n    .then(data => {\r\n      if (!data.ok) {\r\n        if (data.status === 400) {\r\n          dispatch(authError(\"E-Mail or password is incorrect\"));\r\n        } else {\r\n          dispatch(authError(`Error #${data.status}`));\r\n        }\r\n      }\r\n\r\n      if (data.status === 200) {\r\n        return data.json();\r\n      }\r\n    })\r\n    .then(data => {\r\n      if (data !== undefined) {\r\n        dispatch(authLoaded(data));\r\n      }\r\n    })\r\n    .catch(err => {\r\n      dispatch(authError(err));\r\n    });\r\n};\r\n\r\nexport { fetchLogin, authLogout };\r\n","import React from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { fetchLogin } from \"../../actions\";\r\n\r\nimport \"./auth-form.css\";\r\n\r\nconst Error = ({ text }) => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <span>{`${text}`}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AuthForm = props => {\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const login = e.target[0].value;\r\n    const pass = e.target[1].value;\r\n    if (login && pass) {\r\n      props.fetchLogin(login, pass);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`auth ${props.error ? \"error\" : \"\"}`}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <h1>Log In</h1>\r\n      <form>\r\n        <input type=\"email\" placeholder=\"E-Mail\" />\r\n        <input type=\"password\" placeholder=\"Password\" />\r\n\r\n        {props.error ? <Error text={props.error} /> : null}\r\n\r\n        <button>Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user: { error } }) => {\r\n  return { error };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      fetchLogin: fetchLogin()\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AuthForm);\r\n","import AuthForm from \"./auth-form\";\r\n\r\nexport default AuthForm;\r\n","import UserInfo from \"./user-info\";\r\n\r\nexport default UserInfo;\r\n","import React from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { authLogout } from \"../../actions\";\r\n\r\nimport \"./user-info.css\";\r\n\r\nconst UserInfo = props => {\r\n  const { name, photoUrl } = props.userData;\r\n  return (\r\n    <div className=\"user-info\">\r\n      <img src={photoUrl} alt={name} className=\"photo\" />\r\n      <h1>{name}</h1>\r\n      <button onClick={props.authLogout}>Logout</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      authLogout\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(UserInfo);\r\n","import App from \"./app\";\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport AuthForm from \"../auth-form\";\r\nimport UserInfo from \"../user-info\";\r\n\r\nimport \"../../fonts/fonts.css\";\r\nimport \"./app.css\";\r\n\r\nimport logo from \"./img/w-mercury-development.svg\";\r\n\r\nconst App = props => {\r\n  return (\r\n    <main className=\"user-page\">\r\n      <img src={logo} alt=\"Mercury Development\" className=\"logo\" />\r\n      <div className=\"user-box\">\r\n        {props.userData ? <UserInfo userData={props.userData} /> : <AuthForm />}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user: { userData } }) => {\r\n  return { userData };\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nimport App from \"./components/app\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}