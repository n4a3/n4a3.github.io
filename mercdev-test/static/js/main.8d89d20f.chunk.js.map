{"version":3,"sources":["components/app/img/w-mercury-development.svg","reducers/auth.js","reducers/index.js","store.js","actions/index.js","components/mercdev-service-context/mercdev-service-context.js","components/hoc/withMercdevService.js","utils/compose.js","components/auth-form/auth-form.js","components/auth-form/index.js","components/user-info/index.js","components/user-info/user-info.js","components/app/index.js","components/app/app.js","index.js","services/mercdev-service.js"],"names":["module","exports","__webpack_require__","p","userAuth","state","action","undefined","userData","error","type","payload","reducer","user","store","createStore","applyMiddleware","thunkMiddleware","authError","err","authLogout","fetchLogin","mercdevService","email","password","dispatch","userLogin","then","data","ok","status","concat","json","catch","React","createContext","MercdevServiceProvider","Provider","MercdevServiceConsumer","Consumer","withMercdevService","Wrapped","props","react_default","a","createElement","Object","assign","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","Error","_ref","text","className","AuthForm","connect","_ref2","_ref3","bindActionCreators","onSubmit","e","preventDefault","login","target","value","pass","placeholder","auth_form_Error","UserInfo","_props$userData","name","photoUrl","src","alt","onClick","App","logo","components_user_info","components_auth_form","_apiBase","url","_this","headers","Headers","Content-Type","body","fetch","method","JSON","stringify","ReactDOM","render","es","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.8d89d20f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/w-mercury-development.15aa0581.svg\";","const userAuth = (state, action) => {\r\n\r\n  if (state === undefined) {\r\n    return {\r\n      userData: null,\r\n      error: null\r\n    }\r\n  }\r\n\r\n  switch (action.type) {\r\n    case 'FETCH_AUTH_REQUEST':\r\n      return {\r\n        userData: null,\r\n        error: null\r\n      }\r\n\r\n    case 'FETCH_AUTH_SUCCESS':\r\n      return {\r\n        userData: action.payload,\r\n        error: null\r\n      }\r\n\r\n    case 'FETCH_AUTH_FAILURE':\r\n      return {\r\n        userData: null,\r\n        error: action.payload\r\n      }\r\n\r\n    case 'LOGOUT':\r\n      return {\r\n        userData: null,\r\n        error: null\r\n      }\r\n\r\n    default:\r\n      return state.userAuth\r\n  }\r\n\r\n}\r\n\r\nexport default userAuth","import userAuth from './auth'\r\n\r\nconst reducer = (state, action) => {\r\n  return {\r\n    user: userAuth(state, action)\r\n  }\r\n}\r\n\r\nexport default reducer","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport reducer from './reducers'\r\n\r\nconst store = createStore(reducer, applyMiddleware(\r\n  thunkMiddleware\r\n))\r\n\r\nexport default store","const authRequest = () => {\r\n  return {\r\n    type: 'FETCH_AUTH_REQUEST'\r\n  }\r\n}\r\n\r\nconst authLoaded = (userData) => {\r\n  return {\r\n    type: 'FETCH_AUTH_SUCCESS',\r\n    payload: userData\r\n  }\r\n}\r\n\r\nconst authError = (err) => {\r\n  return {\r\n    type: 'FETCH_AUTH_FAILURE',\r\n    payload: err\r\n  }\r\n}\r\n\r\nconst authLogout = () => {\r\n  return {\r\n    type: 'LOGOUT'\r\n  }\r\n}\r\n\r\nconst fetchLogin = (mercdevService) => (email, password) => (dispatch) => {\r\n  dispatch(authRequest())\r\n  mercdevService.userLogin(email, password)\r\n    .then((data) => {\r\n      if (!data.ok) {\r\n        if (data.status === 400) {\r\n          dispatch(authError('E-Mail or password is incorrect'))\r\n        } else {\r\n          dispatch(authError(`Error #${data.status}`))\r\n        }\r\n      }\r\n\r\n      if (data.status === 200) {\r\n        return data.json()\r\n      }\r\n    })\r\n    .then((data) => {\r\n      if (data !== undefined) {\r\n        dispatch(authLoaded(data))\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(authError(err))\r\n    })\r\n}\r\n\r\n\r\nexport {\r\n  fetchLogin,\r\n  authLogout\r\n}","import React from 'react'\r\n\r\nconst {\r\n  Provider: MercdevServiceProvider,\r\n  Consumer: MercdevServiceConsumer\r\n} = React.createContext()\r\n\r\nexport { MercdevServiceProvider, MercdevServiceConsumer }","import React from 'react'\r\nimport { MercdevServiceConsumer } from '../mercdev-service-context'\r\n\r\n\r\nconst withMercdevService = () => (Wrapped) => {\r\n\r\n  return (props) => {\r\n    return (\r\n      <MercdevServiceConsumer>\r\n        {\r\n          (mercdevService) => {\r\n            return (<Wrapped {...props}\r\n                    mercdevService={mercdevService}/>)\r\n          }\r\n        }\r\n      </MercdevServiceConsumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withMercdevService","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight(\r\n    (wrapped, f) => f(wrapped), comp)\r\n}\r\n\r\nexport default compose","import React from 'react'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { fetchLogin } from '../../actions'\r\nimport withMercdevService from '../hoc/withMercdevService'\r\nimport { compose } from '../../utils'\r\n\r\nimport './auth-form.css'\r\n\r\nconst Error = ({text}) => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <span>{`${text}`}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AuthForm = (props) => {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const login = e.target[0].value\r\n    const pass = e.target[1].value\r\n    if (login && pass) {\r\n      props.fetchLogin(login, pass)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`auth ${props.error ? 'error' : ''}`}\r\n    onSubmit={handleSubmit}>\r\n      <h1>Log In</h1>\r\n      <form\r\n      \r\n      >\r\n        <input type=\"email\"\r\n              placeholder=\"E-Mail\"\r\n        />\r\n        <input type=\"password\"\r\n              placeholder=\"Password\"\r\n        />\r\n\r\n        {props.error ? <Error text={props.error}/> : null}\r\n\r\n        <button>Login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({ user: {error} }) => {\r\n  return {error}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { mercdevService }) => {\r\n  return bindActionCreators({\r\n    fetchLogin: fetchLogin(mercdevService)\r\n  }, dispatch)\r\n}\r\n\r\nexport default compose(\r\n  withMercdevService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n  )(AuthForm)","import AuthForm from './auth-form'\r\n\r\nexport default AuthForm","import UserInfo from './user-info'\r\n\r\nexport default UserInfo","import React from 'react'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { authLogout } from '../../actions'\r\n\r\nimport './user-info.css'\r\n\r\nconst UserInfo = (props) => {\r\n  const { name, photoUrl } = props.userData\r\n  return (\r\n    <div className=\"user-info\">\r\n      <img src={photoUrl} alt={name} className=\"photo\"/>\r\n      <h1>{name}</h1>\r\n      <button onClick={props.authLogout}>Logout</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({\r\n    authLogout\r\n  }, dispatch)\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(UserInfo)","import App from './app'\r\n\r\nexport default App","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport AuthForm from '../auth-form'\r\nimport UserInfo from '../user-info'\r\n\r\nimport '../../fonts/fonts.css'\r\nimport './app.css'\r\n\r\nimport logo from './img/w-mercury-development.svg'\r\n\r\nconst App = (props) => {\r\n  return (\r\n    <main className=\"user-page\">\r\n      <img src={logo} alt=\"Mercury Development\" className=\"logo\"/>\r\n      <div className=\"user-box\">\r\n        {props.userData ? <UserInfo userData={props.userData} /> : <AuthForm />}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({user: {userData}}) => {\r\n  return {userData}\r\n}\r\n\r\nexport default connect(mapStateToProps)(App)","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n\r\nimport App from './components/app'\r\nimport { MercdevServiceProvider } from './components/mercdev-service-context'\r\nimport { MercdevService } from './services'\r\n\r\nconst mercdevService = new MercdevService()\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <MercdevServiceProvider value={mercdevService}>\r\n      <App />\r\n    </MercdevServiceProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)","export default class MercdevService {\r\n\r\n  _apiBase = 'https://us-central1-mercdev-academy.cloudfunctions.net'\r\n  \r\n  userLogin = (email, password) => {\r\n    const url = `${this._apiBase}/login`\r\n\r\n    const headers = new Headers({\r\n      'Content-Type': 'application/json'\r\n    })\r\n\r\n    const body = {\r\n      email,\r\n      password\r\n    }\r\n\r\n    return fetch(url, {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify(body)\r\n    })\r\n  }\r\n\r\n}"],"sourceRoot":""}