(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/w-mercury-development.15aa0581.svg"},15:function(e,t,n){e.exports=n(28)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(5),o=n.n(u),c=n(3),l=n(1),s=n(12),i=function(e,t){if(void 0===e)return{userData:null,error:null};switch(t.type){case"FETCH_AUTH_REQUEST":return{userData:null,error:null};case"FETCH_AUTH_SUCCESS":return{userData:t.payload,error:null};case"FETCH_AUTH_FAILURE":return{userData:null,error:t.payload};case"LOGOUT":return{userData:null,error:null};default:return e.userAuth}},m=function(e,t){return{user:i(e,t)}},p=Object(l.c)(m,Object(l.a)(s.a)),f=n(13),E=new function e(){var t=this;Object(f.a)(this,e),this._apiBase="https://us-central1-mercdev-academy.cloudfunctions.net",this.userLogin=function(e,n){var r="".concat(t._apiBase,"/login"),a=new Headers({"Content-Type":"application/json"}),u={email:e,password:n};return fetch(r,{method:"POST",headers:a,body:JSON.stringify(u)})}},d=function(e){return{type:"FETCH_AUTH_FAILURE",payload:e}},h=function(){return{type:"LOGOUT"}},b=(n(24),function(e){var t=e.text;return a.a.createElement("div",{className:"error-indicator"},a.a.createElement("span",null,"".concat(t)))}),g=Object(c.b)(function(e){return{error:e.user.error}},function(e){return Object(l.b)({fetchLogin:function(e,t){return function(n){n({type:"FETCH_AUTH_REQUEST"}),E.userLogin(e,t).then(function(e){if(e.ok||(400===e.status?n(d("E-Mail or password is incorrect")):n(d("Error #".concat(e.status)))),200===e.status)return e.json()}).then(function(e){void 0!==e&&n({type:"FETCH_AUTH_SUCCESS",payload:e})}).catch(function(e){n(d(e))})}}},e)})(function(e){return a.a.createElement("div",{className:"auth ".concat(e.error?"error":""),onSubmit:function(t){t.preventDefault();var n=t.target[0].value,r=t.target[1].value;n&&r&&e.fetchLogin(n,r)}},a.a.createElement("h1",null,"Log In"),a.a.createElement("form",null,a.a.createElement("input",{type:"email",placeholder:"E-Mail"}),a.a.createElement("input",{type:"password",placeholder:"Password"}),e.error?a.a.createElement(b,{text:e.error}):null,a.a.createElement("button",null,"Login")))}),v=(n(25),Object(c.b)(null,function(e){return Object(l.b)({authLogout:h},e)})(function(e){var t=e.userData,n=t.name,r=t.photoUrl;return a.a.createElement("div",{className:"user-info"},a.a.createElement("img",{src:r,alt:n,className:"photo"}),a.a.createElement("h1",null,n),a.a.createElement("button",{onClick:e.authLogout},"Logout"))})),y=(n(26),n(27),n(14)),T=n.n(y),U=Object(c.b)(function(e){return{userData:e.user.userData}})(function(e){return a.a.createElement("main",{className:"user-page"},a.a.createElement("img",{src:T.a,alt:"Mercury Development",className:"logo"}),a.a.createElement("div",{className:"user-box"},e.userData?a.a.createElement(v,{userData:e.userData}):a.a.createElement(g,null)))});o.a.render(a.a.createElement(c.a,{store:p},a.a.createElement(U,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.62d40f95.chunk.js.map