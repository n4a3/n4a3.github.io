(this["webpackJsonpsmart-home-dashboard"]=this["webpackJsonpsmart-home-dashboard"]||[]).push([[1],{11:function(t,e,n){"use strict";var r,a,o,i;!function(t){t[t.INFO=0]="INFO",t[t.WARNING=1]="WARNING",t[t.ERROR=2]="ERROR"}(r||(r={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.BADGE=1]="BADGE",t[t.CIRCLE=2]="CIRCLE",t[t.TRANSPARENT=3]="TRANSPARENT",t[t.ICON=4]="ICON"}(a||(a={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.FLAT=1]="FLAT"}(o||(o={})),function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY"}(i||(i={})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return i}))},29:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return void 0!==t?isNaN(+t)?t:"".concat(t,"px"):t}},31:function(t,e,n){"use strict";var r,a,o,i,c,s,u,l,d,m,f=n(9),b=n(7),p=n(13),h=n(3),v=(n(20),n(1)),g=[{title:"Camera",checked:!0},{title:"Consumption by room",checked:!0},{title:"Consumption by day",checked:!0},{title:"Devices limit",checked:!0},{title:"Status by units",checked:!0},{title:"Status by devices",checked:!0}],y=(r=function(){function t(e){var n=this;Object(f.a)(this,t),this.dashboardStore=e,Object(b.a)(this,"sectionSettings",a,this),Object(b.a)(this,"layout",o,this),this.setOverviewSettings=function(t,e){n.sectionSettings=n.sectionSettings.map((function(e,n){return{title:e.title,checked:t[n]}})),n.layout=e,localStorage.setItem("overviewSettings",JSON.stringify(n.overviewSettings))},this.dashboardStore=e;var r=localStorage.getItem("overviewSettings");if(r){var i=JSON.parse(r);this.sectionSettings=i.sections,this.layout=i.layout}else{var c={sections:g,layout:this.layout};localStorage.setItem("overviewSettings",JSON.stringify(c)),this.sectionSettings=c.sections}}return Object(p.a)(t,[{key:"overviewSettings",get:function(){return{sections:this.sectionSettings,layout:this.layout}}}]),t}(),a=Object(h.a)(r.prototype,"sectionSettings",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(h.a)(r.prototype,"layout",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(h.a)(r.prototype,"overviewSettings",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"overviewSettings"),r.prototype),r),O=n(38),w=(i=function(){function t(e){var n=this;Object(f.a)(this,t),this.rootStore=e,this.settingsStore=void 0,Object(b.a)(this,"isNavVisible",c,this),Object(b.a)(this,"openedModals",s,this),this.toggleNav=function(){n.isNavVisible=!n.isNavVisible},this.isModalOpened=function(t){return-1!==n.openedModals.indexOf(t)},this.openModal=function(t){n.openedModals.push(t)},this.closeModal=function(t){var e=n.openedModals.indexOf(t);-1!==e&&n.openedModals.splice(e,1)},this.closeAllModals=function(){n.openedModals=[]},this.rootStore=e,this.settingsStore=new y(this)}return Object(p.a)(t,[{key:"currentOverviewMode",get:function(){var t=this.settingsStore.overviewSettings.layout;return{key:t,css:O.a[t]}}}]),t}(),c=Object(h.a)(i.prototype,"isNavVisible",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=Object(h.a)(i.prototype,"openedModals",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(h.a)(i.prototype,"currentOverviewMode",[v.d],Object.getOwnPropertyDescriptor(i.prototype,"currentOverviewMode"),i.prototype),i),j=n(12),k=n.n(j),E=function(t){localStorage.setItem("authorized",JSON.stringify(t))},S=function(t){return k.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Math.random()>.3?setTimeout((function(){return e(!0)}),800):setTimeout((function(){n(t)}),400)})));case 1:case"end":return e.stop()}}))},x=function(t,e,n){return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",S("Registration failed, network error").then((function(){return localStorage.setItem("fakeCreds",JSON.stringify({email:t,password:e,name:n})),!0})));case 1:case"end":return r.stop()}}))},N=function(t,e){return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",S("Login failed, network error").then((function(){var n=localStorage.getItem("fakeCreds");if(n){var r=JSON.parse(n);if(r.email===t&&r.password===e)return E(r.name),r.name}return!1})));case 1:case"end":return n.stop()}}))},L=(u=function(){function t(e){var n=this;Object(f.a)(this,t),this.rootStore=void 0,Object(b.a)(this,"authorizedUser",l,this),Object(b.a)(this,"isLoading",d,this),Object(b.a)(this,"errorType",m,this),this.register=function(t,e,r){return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n.clearError(),n.isLoading=!0,a.prev=2,a.next=5,k.a.awrap(x(t,e,r));case 5:a.sent&&(window.location.replace("#/login"),n.login(t,e)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),n.setError(a.t0),n.isLoading=!1;case 13:case"end":return a.stop()}}),null,null,[[2,9]])},this.login=function(t,e){var r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n.clearError(),n.isLoading=!0,a.prev=2,a.next=5,k.a.awrap(N(t,e));case 5:if(r=a.sent,n.isLoading=!1,!r){a.next=13;break}return n.authorizedUser=r,window.location.replace("#/dashboard"),a.abrupt("return",!0);case 13:return n.setError("Email or password is incorrect!"),a.abrupt("return",!1);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(2),n.setError(a.t0);case 20:return n.isLoading=!1,a.abrupt("return",null);case 22:case"end":return a.stop()}}),null,null,[[2,17]])},this.logout=function(){n.authorizedUser=null,E(null),window.location.replace("#/login")},this.setError=function(t){n.errorType=t,window.addEventListener("popstate",n.clearError)},this.clearError=function(){n.errorType=null,window.removeEventListener("popstate",n.clearError)},this.rootStore=e}return Object(p.a)(t,[{key:"name",get:function(){return this.authorizedUser}},{key:"error",get:function(){return this.errorType}},{key:"loading",get:function(){return this.isLoading}}]),t}(),l=Object(h.a)(u.prototype,"authorizedUser",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JSON.parse(localStorage.getItem("authorized")||"null")}}),d=Object(h.a)(u.prototype,"isLoading",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(h.a)(u.prototype,"errorType",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(h.a)(u.prototype,"name",[v.d],Object.getOwnPropertyDescriptor(u.prototype,"name"),u.prototype),Object(h.a)(u.prototype,"error",[v.d],Object.getOwnPropertyDescriptor(u.prototype,"error"),u.prototype),Object(h.a)(u.prototype,"loading",[v.d],Object.getOwnPropertyDescriptor(u.prototype,"loading"),u.prototype),u);n.d(e,"a",(function(){return I}));var I=new function t(){Object(f.a)(this,t),this.dashboardStore=void 0,this.authStore=void 0,this.authStore=new L(this),this.dashboardStore=new w(this)}},34:function(t,e,n){"use strict";var r=n(19),a=n(0),o=n.n(a),i=n(4),c=n(5),s=n(11),u=n(29);function l(){var t=Object(i.a)(["\n          background-color: transparent;\n        "]);return l=function(){return t},t}function d(){var t=Object(i.a)(["\n          min-width: unset;\n          width: 42px;\n          height: 42px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: unset;\n          ",";\n          ",";\n        "]);return d=function(){return t},t}function m(){var t=Object(i.a)(["\n          min-width: unset;\n          height: unset;\n          padding: 4px 15px;\n          background-color: #3e4e6c;\n          border-radius: 50px;\n        "]);return m=function(){return t},t}function f(){var t=Object(i.a)(["\n  min-width: 82px;\n  width: ",";\n  height: 33px;\n  margin: 0;\n  padding: 0 8px;\n  background-color: #1f8efa;\n  border-radius: 2px;\n  border: none;\n  font-size: 12px;\n  font-weight: 500;\n  text-transform: uppercase;\n  color: #ffffff;\n  cursor: pointer;\n  transition: background-color 50ms;\n\n  ","\n\n  &:active {\n    background-color: #3e4e6c;\n    transition: background-color 50ms;\n  }\n"]);return f=function(){return t},t}var b=c.c.button(f(),(function(t){var e=t.width,n=void 0===e?"auto":e;return Object(u.a)(n)}),(function(t){var e=t.skin;switch(e){case s.b.BADGE:return Object(c.b)(m());case s.b.CIRCLE:case s.b.ICON:return Object(c.b)(d(),e===s.b.CIRCLE&&"border-radius: 50%",e===s.b.ICON&&"background-color: transparent");case s.b.TRANSPARENT:return Object(c.b)(l())}})),p=function(t){var e=t.children,n=t.skin,a=void 0===n?s.b.DEFAULT:n,i=t.width,c=(t.disabled,Object(r.a)(t,["children","skin","width","disabled"]));return o.a.createElement(b,Object.assign({skin:a,width:i},c),e)};e.a=p},38:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=[['"camera camera camera room room"','"camera camera camera day limit"','"units units units units units"'],['"room room camera camera camera"','"day limit camera camera camera"','"units units units units units"'],['"units camera camera room room"','"units camera camera room room"','"units camera camera day limit"'],['"units camera camera camera room"','"units camera camera camera day"','"units camera camera camera limit"'],['"units units units units units"','"camera camera camera room room"','"camera camera camera day limit"'],['"units units units units units"','"room room camera camera camera"','"day limit camera camera camera"'],['"units units units units units"','"room room camera camera camera"','"day limit camera camera camera"'],['"units units units units units"','"room room camera camera camera"','"day limit camera camera camera"']]},39:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(5);function c(){var t=Object(o.a)(["\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #ffffff;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n\n  &:nth-child(1) {\n    left: 8px;\n    animation: "," 0.6s infinite;\n  }\n  &:nth-child(2) {\n    left: 8px;\n    animation: "," 0.6s infinite;\n  }\n  &:nth-child(3) {\n    left: 32px;\n    animation: "," 0.6s infinite;\n  }\n  &:nth-child(4) {\n    left: 56px;\n    animation: "," 0.6s infinite;\n  }\n"]);return c=function(){return t},t}function s(){var t=Object(o.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 10px;\n"]);return s=function(){return t},t}function u(){var t=Object(o.a)(["0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }"]);return u=function(){return t},t}function l(){var t=Object(o.a)(["0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(24px, 0);\n  }"]);return l=function(){return t},t}function d(){var t=Object(o.a)(["0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }"]);return d=function(){return t},t}var m=[Object(i.d)(d()),Object(i.d)(l()),Object(i.d)(u())],f=i.c.div(s()),b=i.c.div(c(),m[0],m[1],m[1],m[2]),p=function(){return a.a.createElement(f,null,a.a.createElement(b,null),a.a.createElement(b,null),a.a.createElement(b,null),a.a.createElement(b,null))};e.a=p},46:function(t,e,n){t.exports=n(56)},56:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(17),i=n.n(o),c=n(7),s=n(9),u=n(13),l=n(32),d=n(30),m=n(21),f=n(33),b=n(3),p=(n(20),n(22)),h=n(14),v=n(4),g=n(5);function y(){var t=Object(v.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%);\n"]);return y=function(){return t},t}function O(){var t=Object(v.a)(["\n  html, body {\n    margin: 0;\n    padding: 0;\n    background-color: #242e42;\n    font-family: Roboto, Arial, Helvetica, sans-serif;\n  };\n\n  * {\n    box-sizing: border-box;\n  };\n\n  *:focus {\n    outline: none;\n  };\n\n  *::-moz-focus-inner {\n    border: none;\n  };\n\n  input, button { \n    font-family: inherit;\n    font-size: inherit;\n    font-style: inherit;\n    font-weight: inherit;\n  };\n\n  .key-input {\n    *:focus { \n      background-color: #44556b;\n    };\n\n    *:active { \n      background-color: #3e4e6c;\n    }\n  };\n"]);return O=function(){return t},t}var w,j,k,E=Object(g.a)(O()),S=g.c.div(y()),x=n(19),N=n(31),L=function(t){var e=t.component,n=Object(x.a)(t,["component"]);return a.a.createElement(h.b,Object.assign({},n,{render:function(t){return N.a.authStore.name?a.a.createElement(e,t):a.a.createElement(h.a,{to:{pathname:"/login",state:{from:t.location}}})}}))},I=n(39),R=n(28),A=n(1),z=n(34),C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,95))})),M=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,94))})),T=Object(R.a)((j=function(t){function e(){var t,n;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a))),Object(c.a)(n,"hasError",k,Object(m.a)(n)),n.setMouseInput=function(){document.body.classList.remove("key-input"),document.body.removeEventListener("mousedown",n.setMouseInput),document.body.addEventListener("keydown",n.keyboardHandler)},n.keyboardHandler=function(t){["Tab","Escape"].includes(t.key)&&n.setKeyboardInput()},n.setKeyboardInput=function(){document.body.classList.add("key-input"),document.body.removeEventListener("keydown",n.keyboardHandler),document.body.addEventListener("mousedown",n.setMouseInput)},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){document.body.addEventListener("mousedown",this.setMouseInput),document.body.addEventListener("keydown",this.keyboardHandler)}},{key:"componentDidCatch",value:function(){this.hasError=!0}},{key:"render",value:function(){return a.a.createElement(p.a,null,a.a.createElement(E,null),this.hasError?a.a.createElement(z.a,{onClick:function(){return window.location.reload()}},"Refresh"):a.a.createElement(r.Suspense,{fallback:a.a.createElement(S,null,a.a.createElement(I.a,null))},a.a.createElement(h.d,null,a.a.createElement(L,{path:"/dashboard",component:M}),a.a.createElement(h.b,{path:"/login",component:C}),a.a.createElement(h.a,{to:"/dashboard"}))))}}]),e}(r.Component),k=Object(b.a)(j.prototype,"hasError",[A.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=j))||w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[46,2,3]]]);
//# sourceMappingURL=main.5c13d181.chunk.js.map