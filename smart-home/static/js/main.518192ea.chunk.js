(this["webpackJsonpsmart-home-dashboard"]=this["webpackJsonpsmart-home-dashboard"]||[]).push([[1],{12:function(t,e,n){"use strict";var r,a,o,i;!function(t){t.TEXT="text",t.PASSWORD="password",t.EMAIL="email"}(r||(r={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.BADGE=1]="BADGE",t[t.CIRCLE=2]="CIRCLE",t[t.TRANSPARENT=3]="TRANSPARENT",t[t.ICON=4]="ICON"}(a||(a={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.FLAT=1]="FLAT"}(o||(o={})),function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY"}(i||(i={})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i}))},31:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return void 0!==t?isNaN(+t)?t:"".concat(t,"px"):t}},32:function(t,e,n){"use strict";var r,a,o,i,c,s,u,l,d,m,p=n(10),f=n(7),b=n(13),h=n(3),g=(n(21),n(1)),v=[{title:"Camera",checked:!0},{title:"Consumption by room",checked:!0},{title:"Consumption by day",checked:!0},{title:"Devices limit",checked:!0},{title:"Status by units",checked:!0},{title:"Status by devices",checked:!0}],y=(r=function(){function t(e){var n=this;Object(p.a)(this,t),this.dashboardStore=e,Object(f.a)(this,"sectionSettings",a,this),Object(f.a)(this,"layout",o,this),this.setOverviewSettings=function(t,e){n.sectionSettings=n.sectionSettings.map((function(e,n){return{title:e.title,checked:t[n]}})),n.layout=e,localStorage.setItem("overviewSettings",JSON.stringify(n.overviewSettings))},this.dashboardStore=e;var r=localStorage.getItem("overviewSettings");if(r){var i=JSON.parse(r);this.sectionSettings=i.sections,this.layout=i.layout}else{var c={sections:v,layout:this.layout};localStorage.setItem("overviewSettings",JSON.stringify(c)),this.sectionSettings=c.sections}}return Object(b.a)(t,[{key:"overviewSettings",get:function(){return{sections:this.sectionSettings,layout:this.layout}}}]),t}(),a=Object(h.a)(r.prototype,"sectionSettings",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(h.a)(r.prototype,"layout",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(h.a)(r.prototype,"overviewSettings",[g.d],Object.getOwnPropertyDescriptor(r.prototype,"overviewSettings"),r.prototype),r),O=n(39),w=(i=function(){function t(e){var n=this;Object(p.a)(this,t),this.rootStore=e,this.settingsStore=void 0,Object(f.a)(this,"isNavVisible",c,this),Object(f.a)(this,"openedModals",s,this),this.toggleNav=function(){n.isNavVisible=!n.isNavVisible},this.isModalOpened=function(t){return-1!==n.openedModals.indexOf(t)},this.openModal=function(t){n.openedModals.push(t)},this.closeModal=function(t){var e=n.openedModals.indexOf(t);-1!==e&&n.openedModals.splice(e,1)},this.closeAllModals=function(){n.openedModals=[]},this.rootStore=e,this.settingsStore=new y(this)}return Object(b.a)(t,[{key:"currentOverviewMode",get:function(){var t=this.settingsStore.overviewSettings.layout;return{key:t,css:O.a[t]}}}]),t}(),c=Object(h.a)(i.prototype,"isNavVisible",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=Object(h.a)(i.prototype,"openedModals",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(h.a)(i.prototype,"currentOverviewMode",[g.d],Object.getOwnPropertyDescriptor(i.prototype,"currentOverviewMode"),i.prototype),i),j=n(8),k=n.n(j),S=n(15),E=function(t){localStorage.setItem("authorized",JSON.stringify(t))},x=function(){var t=Object(S.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){Math.random()>.3?setTimeout((function(){return t(!0)}),800):setTimeout((function(){n(e)}),400)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(S.a)(k.a.mark((function t(e,n,r){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("Registration failed, network error").then((function(){return localStorage.setItem("fakeCreds",JSON.stringify({email:e,password:n,name:r})),!0})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),N=function(){var t=Object(S.a)(k.a.mark((function t(e,n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("Login failed, network error").then((function(){var t=localStorage.getItem("fakeCreds");if(t){var r=JSON.parse(t);if(r.email===e&&r.password===n)return E(r.name),r.name}return!1})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),A=function(){E(null)},I=(u=function(){function t(e){var n=this;Object(p.a)(this,t),this.rootStore=void 0,Object(f.a)(this,"authorizedUser",l,this),Object(f.a)(this,"isLoading",d,this),Object(f.a)(this,"errorType",m,this),this.register=function(){var t=Object(S.a)(k.a.mark((function t(e,r,a){var o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("reg start",e,r,a),n.isLoading=!0,t.prev=2,t.next=5,L(e,r,a);case 5:o=t.sent,console.log("reg res",o),o&&(window.location.replace("#/login"),n.login(e,r)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("reg err",t.t0),n.errorType=t.t0,n.isLoading=!1;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,r){return t.apply(this,arguments)}}(),this.login=function(){var t=Object(S.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("log start",e,r),n.isLoading=!0,t.prev=2,t.next=5,N(e,r);case 5:if(a=t.sent,n.isLoading=!1,console.log("log res",a),!a){t.next=14;break}return n.authorizedUser=a,window.location.replace("#/dashboard"),t.abrupt("return",!0);case 14:return n.errorType="Email or password is incorrect!",t.abrupt("return",!1);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),n.errorType=t.t0;case 21:return console.log("log err",n.errorType),n.isLoading=!1,t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e,n){return t.apply(this,arguments)}}(),this.logout=function(){n.authorizedUser=null,A(),window.location.replace("#/login")},this.rootStore=e}return Object(b.a)(t,[{key:"name",get:function(){return this.authorizedUser}},{key:"error",get:function(){return this.errorType}},{key:"loading",get:function(){return this.isLoading}}]),t}(),l=Object(h.a)(u.prototype,"authorizedUser",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JSON.parse(localStorage.getItem("authorized")||"null")}}),d=Object(h.a)(u.prototype,"isLoading",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(h.a)(u.prototype,"errorType",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(h.a)(u.prototype,"name",[g.d],Object.getOwnPropertyDescriptor(u.prototype,"name"),u.prototype),Object(h.a)(u.prototype,"error",[g.d],Object.getOwnPropertyDescriptor(u.prototype,"error"),u.prototype),Object(h.a)(u.prototype,"loading",[g.d],Object.getOwnPropertyDescriptor(u.prototype,"loading"),u.prototype),u);n.d(e,"a",(function(){return T}));var T=new function t(){Object(p.a)(this,t),this.dashboardStore=void 0,this.authStore=void 0,this.authStore=new I(this),this.dashboardStore=new w(this)}},35:function(t,e,n){"use strict";var r=n(20),a=n(0),o=n.n(a),i=n(4),c=n(5),s=n(12),u=n(31);function l(){var t=Object(i.a)(["\n          background-color: transparent;\n        "]);return l=function(){return t},t}function d(){var t=Object(i.a)(["\n          min-width: unset;\n          width: 42px;\n          height: 42px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: unset;\n          ",";\n          ",";\n        "]);return d=function(){return t},t}function m(){var t=Object(i.a)(["\n          min-width: unset;\n          height: unset;\n          padding: 4px 15px;\n          background-color: #3e4e6c;\n          border-radius: 50px;\n        "]);return m=function(){return t},t}function p(){var t=Object(i.a)(["\n  min-width: 82px;\n  width: ",";\n  height: 33px;\n  margin: 0;\n  padding: 0 8px;\n  background-color: #1f8efa;\n  border-radius: 2px;\n  border: none;\n  font-size: 12px;\n  font-weight: 500;\n  text-transform: uppercase;\n  color: #ffffff;\n  cursor: pointer;\n  transition: background-color 50ms;\n\n  ","\n\n  &:active {\n    background-color: #3e4e6c;\n    transition: background-color 50ms;\n  }\n"]);return p=function(){return t},t}var f=c.c.button(p(),(function(t){var e=t.width,n=void 0===e?"auto":e;return Object(u.a)(n)}),(function(t){var e=t.skin;switch(e){case s.a.BADGE:return Object(c.b)(m());case s.a.CIRCLE:case s.a.ICON:return Object(c.b)(d(),e===s.a.CIRCLE&&"border-radius: 50%",e===s.a.ICON&&"background-color: transparent");case s.a.TRANSPARENT:return Object(c.b)(l())}})),b=function(t){var e=t.children,n=t.skin,a=void 0===n?s.a.DEFAULT:n,i=t.width,c=(t.disabled,Object(r.a)(t,["children","skin","width","disabled"]));return o.a.createElement(f,Object.assign({skin:a,width:i},c),e)};e.a=b},39:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=[['"camera camera camera room room"','"camera camera camera day limit"','"units units units units units"'],['"room room camera camera camera"','"day limit camera camera camera"','"units units units units units"'],['"units camera camera room room"','"units camera camera room room"','"units camera camera day limit"'],['"units camera camera camera room"','"units camera camera camera day"','"units camera camera camera limit"'],['"units units units units units"','"camera camera camera room room"','"camera camera camera day limit"'],['"units units units units units"','"room room camera camera camera"','"day limit camera camera camera"'],['"units units units units units"','"room room camera camera camera"','"day limit camera camera camera"'],['"units units units units units"','"room room camera camera camera"','"day limit camera camera camera"']]},40:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(5);function c(){var t=Object(o.a)(["\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #ffffff;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n\n  &:nth-child(1) {\n    left: 8px;\n    animation: "," 0.6s infinite;\n  }\n  &:nth-child(2) {\n    left: 8px;\n    animation: "," 0.6s infinite;\n  }\n  &:nth-child(3) {\n    left: 32px;\n    animation: "," 0.6s infinite;\n  }\n  &:nth-child(4) {\n    left: 56px;\n    animation: "," 0.6s infinite;\n  }\n"]);return c=function(){return t},t}function s(){var t=Object(o.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 10px;\n"]);return s=function(){return t},t}function u(){var t=Object(o.a)(["0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }"]);return u=function(){return t},t}function l(){var t=Object(o.a)(["0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(24px, 0);\n  }"]);return l=function(){return t},t}function d(){var t=Object(o.a)(["0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }"]);return d=function(){return t},t}var m=[Object(i.d)(d()),Object(i.d)(l()),Object(i.d)(u())],p=i.c.div(s()),f=i.c.div(c(),m[0],m[1],m[1],m[2]),b=function(){return a.a.createElement(p,null,a.a.createElement(f,null),a.a.createElement(f,null),a.a.createElement(f,null),a.a.createElement(f,null))};e.a=b},47:function(t,e,n){t.exports=n(57)},57:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(18),i=n.n(o),c=n(7),s=n(10),u=n(13),l=n(34),d=n(30),m=n(22),p=n(33),f=n(3),b=(n(21),n(23)),h=n(14),g=n(4),v=n(5);function y(){var t=Object(g.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%);\n"]);return y=function(){return t},t}function O(){var t=Object(g.a)(["\n  html, body {\n    margin: 0;\n    padding: 0;\n    background-color: #242e42;\n    font-family: Roboto, Arial, Helvetica, sans-serif;\n  };\n\n  * {\n    box-sizing: border-box;\n    outline: none;\n  };\n\n  .key-input {\n    *:focus { \n      background-color: #44556b;\n    };\n\n    *:active { \n      background-color: #3e4e6c;\n    }\n  };\n"]);return O=function(){return t},t}var w,j,k,S=Object(v.a)(O()),E=v.c.div(y()),x=n(20),L=n(32),N=function(t){var e=t.component,n=Object(x.a)(t,["component"]);return a.a.createElement(h.b,Object.assign({},n,{render:function(t){return L.a.authStore.name?a.a.createElement(e,t):a.a.createElement(h.a,{to:{pathname:"/login",state:{from:t.location}}})}}))},A=n(40),I=n(29),T=n(1),M=n(35),C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,126))})),z=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(6)]).then(n.bind(null,125))})),R=Object(I.a)((j=function(t){function e(){var t,n;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a))),Object(c.a)(n,"hasError",k,Object(m.a)(n)),n.setMouseInput=function(){document.body.classList.remove("key-input"),document.body.removeEventListener("mousedown",n.setMouseInput),document.body.addEventListener("keydown",n.keyboardHandler)},n.keyboardHandler=function(t){["Tab","Escape"].includes(t.key)&&n.setKeyboardInput()},n.setKeyboardInput=function(){document.body.classList.add("key-input"),document.body.removeEventListener("keydown",n.keyboardHandler),document.body.addEventListener("mousedown",n.setMouseInput)},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){document.body.addEventListener("mousedown",this.setMouseInput),document.body.addEventListener("keydown",this.keyboardHandler)}},{key:"componentDidCatch",value:function(){this.hasError=!0}},{key:"render",value:function(){return a.a.createElement(b.a,null,a.a.createElement(S,null),this.hasError?a.a.createElement(M.a,{onClick:function(){return window.location.reload()}},"Refresh"):a.a.createElement(r.Suspense,{fallback:a.a.createElement(E,null,a.a.createElement(A.a,null))},a.a.createElement(h.d,null,a.a.createElement(N,{path:"/dashboard",component:z}),a.a.createElement(h.b,{path:"/login",component:C}),a.a.createElement(h.a,{to:"/dashboard"}))))}}]),e}(r.Component),k=Object(f.a)(j.prototype,"hasError",[T.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=j))||w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[47,2,4]]]);
//# sourceMappingURL=main.518192ea.chunk.js.map